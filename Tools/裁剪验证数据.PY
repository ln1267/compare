# ---------------------------------------------------------------------------
# 生成气象数据――――――――arcgis9.3
# Created on: 星期五 十二月 09 2011 11:27:55 上午
#   (generated by ArcGIS/ModelBuilder)
# ---------------------------------------------------------------------------

# Import arcpy module
import arcpy

# Check out any necessary licenses
arcpy.CheckOutExtension("spatial")


#循环开始
for n in xrange(2006,2007):
	for m in xrange(1,13):
		m="%02d" % m		#转换为两位日期
# Local variables:	
		
		data_class="GEP"							#待处理的气象数据类型
		
	
##########################-----公用目录---------##############################################		
		input_dir="E:\\HUC\\data\\"		#气象数据所在的目录
		output_raster_dir="E:\\lai\\"			#转换生成的栅格所在的目录
		basins_dir="E:\\HUC\\basins\\" 	#流域边界所在目录
################################################################################		
		
#######################---转换后的每个流域结果的输出目录------#################################
		
		name1="ET"+str(n)+m+".tif"
		name2="GEP"+str(n)+m+".tif"
		name4=data_class+str(n)+m+".dbf"
		name_gep="MOD17A2_GPP."+str(n)+".M"+m+".tif"
		name_ET="MonthlyET_"+str(n)+m+".flt"
		
######################-----待预处理的气象数据文件------##############################################		
		input_file_GEP = input_dir+name_gep							#输入气象数据
		input_file_ET = input_dir+name_ET							#输入气象数据
		
		output_asctoras1 = output_raster_dir+name2				#处理后的气象数据
		output_asctoras2 = output_raster_dir+name1				#处理后的气象数据
		basin_clip="H:\\流域划分\\HUC\\basin_union_buffer.shp"
################################################################################
		
		
		print input_file_GEP,output_asctoras1
		

		# Process: 裁剪 (3)
		arcpy.Clip_management(input_file_GEP, "-569482.72309382 3210242.66760919 -96637.2454170428 3594357.64348364", output_asctoras1, basin_clip, "", "ClippingGeometry")	
		arcpy.Clip_management(input_file_ET, "-569482.72309382 3210242.66760919 -96637.2454170428 3594357.64348364", output_asctoras2, basin_clip, "", "ClippingGeometry")	
